<!DOCTYPE html>
<html>

<head>
  <title>Map with Destination</title>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-core.js"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-service.js"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"></script>
  <style>
    #mapContainer {
      width: 100%;
      height: 400px;
      background: grey;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Hey! <p id="user_name"></p>
    </h1>
    <button onclick="signOut()" id="signOut">Sign Out</button>
  </div>
  <div id="mapContainer"></div>
  <input type="text" id="destinationInput" placeholder="Enter Destination">
  <button onclick="submitDestination()">Submit</button>
  <button id="zoomInButton">Zoom In</button>
  <button id="zoomOutButton">Zoom Out</button>

  <script src="./src/home.js">
  </script>
  <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-auth.js"></script>
  <script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
      apiKey: "AIzaSyA54-IKm2qW-Ki2S_p0PrcZM_v3wwF1rOk",
      authDomain: "crm-database-8ee82.firebaseapp.com",
      databaseURL: "https://crm-database-8ee82-default-rtdb.firebaseio.com",
      projectId: "crm-database-8ee82",
      storageBucket: "crm-database-8ee82.appspot.com",
      messagingSenderId: "867136798793",
      appId: "1:867136798793:web:74fcee39de223f51d77f98",
      // measurementId: "G-LNGKDM9662"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    const auth = firebase.auth();

    //signOut
    function signOut() {
      auth.signOut();
      alert("See you soon!"+ email);
      window.location = "./index.html";
    }

    //active user to homepage
    firebase.auth().onAuthStateChanged((user) => {
      if (user) {
        var email = user.email;
        // alert("Active user " + email);
      } else {
        // alert("No Active user Found");
        window.location = "./index.html";
      }
    })

    firebase.auth().onAuthStateChanged(function (user) {
      if (user) {
        // User is signed in.
        var user = firebase.auth().currentUser;

        if (user != null) {

          var email_id = user.email;
          document.getElementById("user_name").innerHTML = "" + email_id;

        }

      } else {
        // No user is signed in.
        window.location = "./index.html";
      }
    });
  </script>
</body>

</html>